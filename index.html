<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>What Should I Eat?</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0f0e0b;
    --cream: #f5f0e8;
    --orange: #e8622a;
    --yellow: #f5c842;
    --green: #4a9e6b;
    --red: #c93535;
    --card: #1a1916;
    --border: rgba(245,240,232,0.1);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--cream);
    font-family: 'DM Sans', sans-serif;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    overflow-x: hidden;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(ellipse at 20% 50%, rgba(232,98,42,0.08) 0%, transparent 60%),
                radial-gradient(ellipse at 80% 20%, rgba(245,200,66,0.06) 0%, transparent 50%);
    pointer-events: none;
  }

  h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2.5rem, 6vw, 4.5rem);
    font-weight: 900;
    line-height: 1;
    text-align: center;
    margin-bottom: 0.3rem;
  }

  h1 span { color: var(--orange); }

  .subtitle {
    font-size: 0.95rem;
    font-weight: 300;
    opacity: 0.5;
    margin-bottom: 2.5rem;
    letter-spacing: 0.05em;
  }

  /* Filters */
  .filters {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    justify-content: center;
    margin-bottom: 2rem;
    max-width: 600px;
  }

  .filter-btn {
    background: var(--card);
    border: 1px solid var(--border);
    color: var(--cream);
    padding: 0.4rem 1rem;
    border-radius: 100px;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s;
    opacity: 0.6;
  }

  .filter-btn:hover { opacity: 1; border-color: rgba(245,240,232,0.3); }
  .filter-btn.active {
    background: var(--orange);
    border-color: var(--orange);
    color: white;
    opacity: 1;
  }

  /* Result Card */
  .result-area {
    width: 100%;
    max-width: 480px;
    margin-bottom: 2rem;
    min-height: 220px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .food-card {
    width: 100%;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 2.5rem 2rem;
    text-align: center;
    position: relative;
    overflow: hidden;
    animation: slideIn 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes slideIn {
    from { transform: translateY(20px) scale(0.95); opacity: 0; }
    to { transform: translateY(0) scale(1); opacity: 1; }
  }

  .food-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--orange), var(--yellow));
  }

  .food-emoji {
    font-size: 5rem;
    line-height: 1;
    margin-bottom: 1rem;
    display: block;
    animation: bounce 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes bounce {
    from { transform: scale(0.5) rotate(-10deg); }
    to { transform: scale(1) rotate(0deg); }
  }

  .food-name {
    font-family: 'Playfair Display', serif;
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.4rem;
  }

  .food-desc {
    font-size: 0.9rem;
    opacity: 0.5;
    font-weight: 300;
  }

  .food-tags {
    display: flex;
    gap: 0.4rem;
    justify-content: center;
    margin-top: 1rem;
    flex-wrap: wrap;
  }

  .tag {
    font-size: 0.7rem;
    padding: 0.2rem 0.6rem;
    border-radius: 100px;
    background: rgba(245,240,232,0.08);
    letter-spacing: 0.05em;
    text-transform: uppercase;
  }

  .placeholder {
    text-align: center;
    opacity: 0.25;
    font-size: 0.95rem;
    padding: 3rem 0;
  }

  .placeholder-icon { font-size: 3rem; margin-bottom: 0.5rem; }

  /* Buttons */
  .btn-row {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 1.5rem;
  }

  .btn-spin {
    background: var(--orange);
    color: white;
    border: none;
    padding: 0.85rem 2.5rem;
    border-radius: 100px;
    font-family: 'DM Sans', sans-serif;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 0.02em;
  }

  .btn-spin:hover { background: #d4541f; transform: translateY(-1px); box-shadow: 0 8px 24px rgba(232,98,42,0.3); }
  .btn-spin:active { transform: translateY(0); }

  .btn-secondary {
    background: transparent;
    color: var(--cream);
    border: 1px solid var(--border);
    padding: 0.85rem 1.5rem;
    border-radius: 100px;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s;
    opacity: 0.6;
  }

  .btn-secondary:hover { opacity: 1; border-color: rgba(245,240,232,0.4); }

  /* Mood selector */
  .mood-row {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 2rem;
    justify-content: center;
  }

  .mood-btn {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 0.6rem 0.9rem;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 1.3rem;
    opacity: 0.5;
    position: relative;
  }

  .mood-btn:hover { opacity: 1; }
  .mood-btn.active { opacity: 1; border-color: var(--yellow); background: rgba(245,200,66,0.1); }

  .mood-btn .mood-label {
    position: absolute;
    bottom: -1.3rem;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.6rem;
    white-space: nowrap;
    opacity: 0;
    transition: opacity 0.2s;
    color: var(--cream);
    letter-spacing: 0.05em;
    text-transform: uppercase;
  }

  .mood-btn:hover .mood-label, .mood-btn.active .mood-label { opacity: 0.6; }

  .section-label {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    opacity: 0.35;
    margin-bottom: 0.7rem;
    text-align: center;
  }

  .history {
    max-width: 480px;
    width: 100%;
    margin-top: 1rem;
  }

  .history-title {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    opacity: 0.3;
    margin-bottom: 0.6rem;
    text-align: center;
  }

  .history-list {
    display: flex;
    gap: 0.4rem;
    flex-wrap: wrap;
    justify-content: center;
  }

  .history-item {
    font-size: 0.8rem;
    padding: 0.25rem 0.7rem;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 100px;
    opacity: 0.5;
  }
</style>
</head>
<body>

<h1>What Should<br>I <span>Eat?</span></h1>
<p class="subtitle">No more decision fatigue. Let fate decide.</p>

<div class="section-label">How hungry are you?</div>
<div class="mood-row">
  <button class="mood-btn" data-mood="snack" onclick="setMood(this)">üç™ <span class="mood-label">Snack</span></button>
  <button class="mood-btn" data-mood="light" onclick="setMood(this)">ü•ó <span class="mood-label">Light</span></button>
  <button class="mood-btn active" data-mood="any" onclick="setMood(this)">üçΩÔ∏è <span class="mood-label">Any</span></button>
  <button class="mood-btn" data-mood="hearty" onclick="setMood(this)">ü•© <span class="mood-label">Hearty</span></button>
  <button class="mood-btn" data-mood="feast" onclick="setMood(this)">üçñ <span class="mood-label">Feast</span></button>
</div>

<div class="section-label" style="margin-bottom: 0.7rem;">Cuisine preference</div>
<div class="filters">
  <button class="filter-btn active" onclick="toggleFilter(this,'all')">üåç All</button>
  <button class="filter-btn" onclick="toggleFilter(this,'italian')">üáÆüáπ Italian</button>
  <button class="filter-btn" onclick="toggleFilter(this,'asian')">ü•¢ Asian</button>
  <button class="filter-btn" onclick="toggleFilter(this,'american')">ü¶Ö American</button>
  <button class="filter-btn" onclick="toggleFilter(this,'mexican')">üåÆ Mexican</button>
  <button class="filter-btn" onclick="toggleFilter(this,'mediterranean')">ü´í Mediterranean</button>
  <button class="filter-btn" onclick="toggleFilter(this,'comfort')">üõãÔ∏è Comfort</button>
  <button class="filter-btn" onclick="toggleFilter(this,'healthy')">ü•¶ Healthy</button>
</div>

<div class="result-area" id="resultArea">
  <div class="placeholder">
    <div class="placeholder-icon">üé≤</div>
    Press spin to discover your meal
  </div>
</div>

<div class="btn-row">
  <button class="btn-spin" onclick="spin()">‚ú® Spin for a meal</button>
  <button class="btn-secondary" onclick="spinDrink()">ü•§ + Drink?</button>
</div>

<div class="history" id="history" style="display:none">
  <div class="history-title">Already rejected</div>
  <div class="history-list" id="historyList"></div>
</div>

<script>
const FOODS = [
  // Italian
  { name: "Spaghetti Carbonara", emoji: "üçù", desc: "Creamy, eggy, bacony Roman perfection", tags: ["Italian","Hearty"], category:"italian", mood:["hearty","any"] },
  { name: "Margherita Pizza", emoji: "üçï", desc: "Classic Neapolitan, tomato & mozzarella", tags: ["Italian"], category:"italian", mood:["light","hearty","any"] },
  { name: "Risotto", emoji: "ü´ï", desc: "Slow-cooked creamy Arborio rice", tags: ["Italian","Comfort"], category:"italian", mood:["hearty","any"] },
  { name: "Bruschetta", emoji: "üçû", desc: "Toasted bread with fresh tomatoes & basil", tags: ["Italian","Light"], category:"italian", mood:["snack","light","any"] },
  { name: "Lasagne", emoji: "ü´ô", desc: "Layered pasta with rich bolognese & b√©chamel", tags: ["Italian","Hearty"], category:"italian", mood:["hearty","feast","any"] },

  // Asian
  { name: "Pad Thai", emoji: "üçú", desc: "Stir-fried rice noodles with peanuts & lime", tags: ["Thai","Asian"], category:"asian", mood:["light","hearty","any"] },
  { name: "Sushi Platter", emoji: "üç±", desc: "Fresh nigiri and rolls with wasabi", tags: ["Japanese","Asian","Light"], category:"asian", mood:["light","any"] },
  { name: "Ramen", emoji: "üçú", desc: "Rich broth with noodles, egg & chashu pork", tags: ["Japanese","Asian"], category:"asian", mood:["hearty","any"] },
  { name: "Dumplings", emoji: "ü•ü", desc: "Steamed or fried with ginger dipping sauce", tags: ["Asian","Snack"], category:"asian", mood:["snack","light","any"] },
  { name: "Bibimbap", emoji: "ü•ò", desc: "Korean rice bowl with veggies, egg & gochujang", tags: ["Korean","Asian"], category:"asian", mood:["hearty","any"] },
  { name: "Butter Chicken", emoji: "üçõ", desc: "Creamy tomato curry with tender chicken", tags: ["Indian","Asian"], category:"asian", mood:["hearty","any"] },
  { name: "Pho", emoji: "üç≤", desc: "Aromatic Vietnamese beef noodle soup", tags: ["Vietnamese","Asian"], category:"asian", mood:["light","hearty","any"] },

  // American
  { name: "Cheeseburger", emoji: "üçî", desc: "Juicy patty, melted cheese, all the fixings", tags: ["American","Comfort"], category:"american", mood:["hearty","any"] },
  { name: "BBQ Ribs", emoji: "üçñ", desc: "Slow-smoked with sticky sweet-tangy sauce", tags: ["American","Hearty"], category:"american", mood:["feast","hearty","any"] },
  { name: "Mac and Cheese", emoji: "üßÄ", desc: "Gooey, creamy, baked golden on top", tags: ["American","Comfort"], category:"american", mood:["comfort","hearty","any"] },
  { name: "Club Sandwich", emoji: "ü•™", desc: "Triple-decker with turkey, bacon & avocado", tags: ["American","Light"], category:"american", mood:["light","any"] },
  { name: "Hot Dog", emoji: "üå≠", desc: "Grilled frankfurter with mustard & onions", tags: ["American","Snack"], category:"american", mood:["snack","light","any"] },

  // Mexican
  { name: "Tacos al Pastor", emoji: "üåÆ", desc: "Marinated pork on corn tortillas with pineapple", tags: ["Mexican"], category:"mexican", mood:["light","hearty","any"] },
  { name: "Enchiladas", emoji: "ü´î", desc: "Rolled tortillas smothered in red chili sauce", tags: ["Mexican","Hearty"], category:"mexican", mood:["hearty","any"] },
  { name: "Guacamole & Chips", emoji: "ü•ë", desc: "Fresh avocado dip with crispy tortilla chips", tags: ["Mexican","Snack"], category:"mexican", mood:["snack","any"] },
  { name: "Burrito Bowl", emoji: "üçö", desc: "Rice, beans, salsa, cheese & your choice of protein", tags: ["Mexican"], category:"mexican", mood:["hearty","any"] },
  { name: "Nachos", emoji: "üßÜ", desc: "Loaded chips with cheese, jalape√±os & sour cream", tags: ["Mexican","Snack"], category:"mexican", mood:["snack","light","any"] },

  // Mediterranean
  { name: "Greek Salad", emoji: "ü•ó", desc: "Fresh feta, olives, tomatoes & cucumber", tags: ["Greek","Mediterranean","Healthy"], category:"mediterranean", mood:["light","any"] },
  { name: "Falafel Wrap", emoji: "ü´ì", desc: "Crispy chickpea patties in warm pita", tags: ["Mediterranean","Healthy"], category:"mediterranean", mood:["light","any"] },
  { name: "Hummus & Pita", emoji: "ü´ò", desc: "Creamy chickpea dip with warm flatbread", tags: ["Mediterranean","Snack"], category:"mediterranean", mood:["snack","any"] },
  { name: "Lamb Kebabs", emoji: "üç¢", desc: "Grilled spiced lamb skewers with tzatziki", tags: ["Mediterranean","Hearty"], category:"mediterranean", mood:["hearty","feast","any"] },
  { name: "Shakshuka", emoji: "üç≥", desc: "Eggs poached in spiced tomato pepper sauce", tags: ["Mediterranean"], category:"mediterranean", mood:["light","any"] },

  // Comfort
  { name: "Grilled Cheese", emoji: "üßÄ", desc: "Golden, buttery, melty between sourdough", tags: ["Comfort","Snack"], category:"comfort", mood:["snack","light","any"] },
  { name: "Tomato Soup", emoji: "üçÖ", desc: "Velvety and warming, best with crusty bread", tags: ["Comfort","Light"], category:"comfort", mood:["light","any"] },
  { name: "Chicken Pot Pie", emoji: "ü•ß", desc: "Flaky pastry filled with creamy chicken stew", tags: ["Comfort","Hearty"], category:"comfort", mood:["hearty","any"] },
  { name: "Fish & Chips", emoji: "üêü", desc: "Beer-battered cod with thick-cut chips", tags: ["Comfort","British"], category:"comfort", mood:["hearty","any"] },
  { name: "Pancakes", emoji: "ü•û", desc: "Fluffy stack drizzled in maple syrup", tags: ["Comfort","Breakfast"], category:"comfort", mood:["light","snack","any"] },

  // Healthy
  { name: "Grain Bowl", emoji: "ü•ô", desc: "Quinoa, roasted veggies & tahini drizzle", tags: ["Healthy","Light"], category:"healthy", mood:["light","any"] },
  { name: "Avocado Toast", emoji: "ü•ë", desc: "Smashed avo on sourdough with chilli flakes", tags: ["Healthy","Snack"], category:"healthy", mood:["snack","light","any"] },
  { name: "Salmon Salad", emoji: "üê†", desc: "Pan-seared salmon over crisp greens & lemon", tags: ["Healthy","Light"], category:"healthy", mood:["light","any"] },
  { name: "Veggie Stir Fry", emoji: "ü•¶", desc: "Colourful veg tossed in garlic soy sauce", tags: ["Healthy","Asian"], category:"healthy", mood:["light","hearty","any"] },
  { name: "Smoothie Bowl", emoji: "ü´ê", desc: "Blended berries topped with granola & seeds", tags: ["Healthy","Snack"], category:"healthy", mood:["snack","any"] },
];

const DRINKS = [
  { name: "Sparkling Water", emoji: "üíß" },
  { name: "Fresh Lemonade", emoji: "üçã" },
  { name: "Iced Coffee", emoji: "‚òï" },
  { name: "Green Tea", emoji: "üçµ" },
  { name: "Mango Lassi", emoji: "ü•≠" },
  { name: "Kombucha", emoji: "üßÉ" },
  { name: "Craft Beer", emoji: "üç∫" },
  { name: "Glass of Red Wine", emoji: "üç∑" },
  { name: "Coconut Water", emoji: "ü••" },
  { name: "Milkshake", emoji: "ü•§" },
];

let activeFilters = new Set(['all']);
let activeMood = 'any';
let rejected = [];
let currentFood = null;

function setMood(btn) {
  document.querySelectorAll('.mood-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  activeMood = btn.dataset.mood;
}

function toggleFilter(btn, filter) {
  if (filter === 'all') {
    activeFilters.clear();
    activeFilters.add('all');
    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  } else {
    const allBtn = document.querySelector('.filter-btn[onclick*="all"]');
    allBtn.classList.remove('active');
    activeFilters.delete('all');
    btn.classList.toggle('active');
    if (btn.classList.contains('active')) {
      activeFilters.add(filter);
    } else {
      activeFilters.delete(filter);
    }
    if (activeFilters.size === 0) {
      activeFilters.add('all');
      allBtn.classList.add('active');
    }
  }
}

function getPool() {
  let pool = FOODS.filter(f => f.mood.includes(activeMood));
  if (!activeFilters.has('all')) {
    pool = pool.filter(f => activeFilters.has(f.category));
  }
  pool = pool.filter(f => !rejected.includes(f.name));
  return pool;
}

function spin() {
  const pool = getPool();
  if (pool.length === 0) {
    showEmpty();
    return;
  }
  const food = pool[Math.floor(Math.random() * pool.length)];
  currentFood = food;
  showFood(food);
}

function spinDrink() {
  if (!currentFood) { spin(); return; }
  const drink = DRINKS[Math.floor(Math.random() * DRINKS.length)];
  showFood(currentFood, drink);
}

function showFood(food, drink) {
  const area = document.getElementById('resultArea');
  const drinkHtml = drink ? `<div style="margin-top:1.2rem;padding-top:1.2rem;border-top:1px solid rgba(245,240,232,0.08)">
    <div style="font-size:0.7rem;text-transform:uppercase;letter-spacing:0.1em;opacity:0.35;margin-bottom:0.4rem">Pair with</div>
    <span style="font-size:2rem">${drink.emoji}</span>
    <span style="font-family:'Playfair Display',serif;font-size:1.1rem;margin-left:0.4rem">${drink.name}</span>
  </div>` : '';

  area.innerHTML = `
    <div class="food-card">
      <span class="food-emoji">${food.emoji}</span>
      <div class="food-name">${food.name}</div>
      <div class="food-desc">${food.desc}</div>
      <div class="food-tags">${food.tags.map(t => `<span class="tag">${t}</span>`).join('')}</div>
      ${drinkHtml}
      <div style="margin-top:1.5rem">
        <button onclick="reject()" style="background:transparent;border:1px solid rgba(245,240,232,0.15);color:var(--cream);padding:0.4rem 1rem;border-radius:100px;font-family:'DM Sans',sans-serif;font-size:0.8rem;cursor:pointer;opacity:0.5;transition:opacity 0.2s" onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0.5'">
          ‚úó Not feeling it ‚Äî try again
        </button>
      </div>
    </div>
  `;
}

function reject() {
  if (currentFood) {
    rejected.push(currentFood.name);
    addHistory(currentFood.name + ' ' + currentFood.emoji);
    currentFood = null;
    spin();
  }
}

function addHistory(label) {
  const hist = document.getElementById('history');
  const list = document.getElementById('historyList');
  hist.style.display = 'block';
  const span = document.createElement('span');
  span.className = 'history-item';
  span.textContent = label;
  list.appendChild(span);
}

function showEmpty() {
  document.getElementById('resultArea').innerHTML = `
    <div class="placeholder">
      <div class="placeholder-icon">üòÖ</div>
      You've rejected everything! <br>
      <button onclick="resetRejections()" style="margin-top:0.8rem;background:var(--orange);border:none;color:white;padding:0.5rem 1.2rem;border-radius:100px;font-family:'DM Sans',sans-serif;cursor:pointer">Start fresh</button>
    </div>
  `;
}

function resetRejections() {
  rejected = [];
  document.getElementById('history').style.display = 'none';
  document.getElementById('historyList').innerHTML = '';
  spin();
}
</script>
</body>
</html>